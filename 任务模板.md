\# ğŸ¯ ç›®æ ‡

æŠŠå½“å‰ä»“åº“ï¼ˆnovel-plus Java Monolithï¼‰è¿ç§»æˆ **.NET 8 / .NET 9 å¾®æœåŠ¡ + Vue 3 + Vuetify** æ¶æ„ã€‚Codex éœ€ä¸€æ¬¡æ€§äº§å‡º **é¡¹ç›®æ¡†æ¶**ï¼ŒåŒ…æ‹¬ï¼š

1. ç›®å½•ç»“æ„ä¸è§£å†³æ–¹æ¡ˆ (.sln)ï¼›
2. æ¯ä¸ªå¾®æœåŠ¡çš„åŸºç¡€å·¥ç¨‹ã€å¯åŠ¨ç±»ã€ä¾èµ–æ³¨å…¥ã€Health-Checkï¼›
3. å…¬å…± **Domain Entities / DTO / ViewModels**ï¼›
4. **WebAPI** è·¯ç”± & OpenAPI (Swashbuckle) å®šä¹‰ï¼›
5. **Services æ¥å£**ï¼ˆApplication Layerï¼‰ï¼Œå«æ¥å£æ³¨é‡Šï¼›
6. å‰ç«¯ï¼šVue 3 + Vite + Vuetify 5 é¡¹ç›®éª¨æ¶ï¼Œè·¯ç”±æŒ‰ã€Œé—¨æˆ· / ä½œå®¶ / å¹³å° / çˆ¬è™«ã€åˆ’åˆ†è§†å›¾ç›®å½•ï¼›
7. CI ç”¨çš„ Dockerfile & GitHub Actionsï¼ˆæ„å»º â†’ å•å…ƒæµ‹è¯• â†’ å‘å¸ƒé•œåƒï¼‰ã€‚





\> âš ï¸ **ä»…ç”Ÿæˆéª¨æ¶**ï¼Œå…·ä½“ä¸šåŠ¡é€»è¾‘åç»­å†åˆ†ä»»åŠ¡å®Œæˆã€‚æœ¬ä»»åŠ¡å…ˆå®Œæˆåç«¯æœåŠ¡çš„æ„å»º 



\# ğŸ—‚ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | çº¦æŸ |

| --- | --- |

| **åç«¯** | .NET 9 preview (ASP.NET Core WebApi)ï¼›æ¡†æ¶ä½¿ç”¨ <https://github.com/dotnet/aspire> æŒ‡å—çš„å¾®æœåŠ¡ styleï¼›ORM **SqlSugar v5+**ï¼›Redis ç¼“å­˜ç”¨ **EasyCaching.Redis**ï¼›ä¾èµ–æ³¨å…¥ä½¿ç”¨å†…ç½® DIï¼›æ—¥å¿— **Serilog**ï¼›é…ç½® **YARP Gateway** ç»Ÿä¸€æ¥å…¥ï¼› |

| **æ•°æ®åº“** | MySQL ï¼ˆæš‚ç”¨ Docker å®¹å™¨ï¼Œå¯†ç è§ docker-composeï¼‰ï¼› | 

| **ç¼“å­˜** | Redis ï¼ˆDockerï¼‰ï¼› | 

| **å‰ç«¯** | Vue 3 + Vite + TypeScript + Vuetifyï¼›ESLint + Prettier + Huskyï¼›API è°ƒç”¨ç”¨ Axiosï¼› | 

| **å®¹å™¨åŒ–** | Docker & docker-composeï¼ŒæœåŠ¡é—´é€šè¿‡æœåŠ¡åäº’é€šï¼› |

| **æµ‹è¯•** | xUnit + Shouldlyï¼›è¦†ç›–ç‡ç”¨ coverletï¼› |



\# ğŸ› ï¸ æŒ‡ä»¤



1. ä¸ºæ¯ä¸ªå¾®æœåŠ¡ï¼š 

   \- åˆ›å»º WebApi é¡¹ç›® `*.Host.Api` 

   \- åˆ›å»º Application é¡¹ç›® `*.Service.Application`

   \- åˆ›å»º Domain é¡¹ç›® `*.Service.Domain`

   \- åˆ›å»º Infrastructure é¡¹ç›® `*.Service.Infrastructure`

2. å¼•å…¥ **QYQ.Base.SqlSugar** å¹¶åœ¨ `Infrastructure` å®ç°æ³›å‹ä»“å‚¨ï¼›æ‰€æœ‰ä»“å‚¨æ–¹æ³•ä»…ç•™ç­¾åã€‚ 
3. ç”¨ **EasyCaching.Redis** å°è£… ICacheServiceï¼›å®ç°åˆ†å¸ƒå¼é”ä¸ç¼“å­˜æ³¨è§£æ ·ä¾‹ã€‚ 
4. `Domain` å†…å…ˆå®ç°å…¬å…±å®ä½“ï¼šUserã€Bookã€Chapterã€AuthorAccountã€SpiderTaskâ€¦ï¼ˆæ ¹æ® Java æ¨¡å‹ç­‰ä»·è¿ç§»ï¼Œå±æ€§ç”¨é©¼å³°è½¬ PascalCaseï¼‰ã€‚ 
5. æ¯ä¸ª Api é¡¹ç›®ç”Ÿæˆ **OpenAPI** (JSON) æ–‡æ¡£ï¼Œå·²å¯ç”¨ `SwaggerUI`. 
6. ç¼–å†™ `docker-compose.yml`ï¼šMySQLã€Redisã€gatewayã€å„æœåŠ¡ã€å‰ç«¯ã€‚ 
7. åœ¨ `/web-portal/` åˆ›å»º Vue é¡¹ç›®ï¼š 

   \- åŸºæœ¬å¸ƒå±€ + è·¯ç”±å®ˆå«

   \- 4 å…¥å£è·¯ç”±ï¼šPortalã€AuthorAdminã€PlatformAdminã€CrawlerAdmin

   \- ç”¨ Pinia åšçŠ¶æ€ç®¡ç†

8. æ‰€æœ‰å…³è”é¡¹ç›®å¯ `dotnet build` æ— è­¦å‘Šé€šè¿‡ï¼Œ`dotnet format --verify-no-changes` é€šè¿‡ã€‚ 
9. äº¤ä»˜åè¾“å‡ºç›®å½•æ ‘ä¸ä¸‹ä¸€æ­¥ TODO åˆ—è¡¨ã€‚ 



\# âœ… éªŒæ”¶æ ‡å‡†

\- `dotnet restore && dotnet build -c Release /warnaserror` 0 é”™è¯¯ 0 è­¦å‘Š

\- `dotnet test` æˆåŠŸï¼ˆç©ºæµ‹è¯•å¯é€šè¿‡ï¼‰

\- `docker compose up -d` åï¼š`gateway` å¯åŠ¨  http://localhost:8080/swagger

\- å‰ç«¯ `pnpm i && pnpm dev` å¯æµè§ˆé»˜è®¤é¦–é¡µ